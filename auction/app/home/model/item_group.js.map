{
    "version": 3,
    "sources": [
        "..\\..\\..\\src\\home\\model\\item_group.js"
    ],
    "names": [],
    "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;AAAA;;;;;;AACA,IAAI,WAAW,QAAQ,cAAR,EAAwB,IAAxB,CAA6B,QAA7B;;IAEM;;;;;;;;;;;;gJACnB,SAAS;AACP,YAAM;AACJ,cAAM,MAAN;AACA,iBAAS,IAAT;AACA,gBAAQ,IAAR;AACA,iBAAS,EAAT;OAJF;AAMA,YAAM;AACJ,cAAM,MAAN;AACA,iBAAS,IAAT;AACA,iBAAS,EAAT;OAHF;AAKA,UAAI;AACF,cAAM,MAAN;AACA,iBAAS,IAAT;AACA,gBAAQ,IAAR;AACA,iBAAS,oBAAK;AACZ,iBAAO,MAAK,GAAL,CAAS,IAAT,IAAiB,CAAjB,CADK;SAAL;;OAJX;AASA,gBAAU;AACR,cAAM,IAAN;AACA,kBAAU,IAAV;AACA,iBAAS;iBAAI,IAAI,IAAJ;SAAJ;OAHX;AAKA,gBAAU;AACR,cAAM,IAAN;AACA,kBAAU,IAAV;AACA,iBAAS;iBAAI,IAAI,IAAJ;SAAJ;OAHX;;;;AA3BiB,sBAkCb;0FAAU;UAEV;;;;;AADJ,qBAAO,gBAAM,SAAN,YAAgB,IAAhB,CAAP;;qBACmB,KAAK,MAAL;;;AAAf;;AACJ,mBAAK,EAAL,GAAU,OAAO,MAAP,CAAc,UAAC,GAAD,EAAM,IAAN;uBAAa,MAAM,CAAC,KAAK,EAAL,GAAU,GAAjB,GAAuB,CAAC,KAAK,EAAL,IAAW,GAAZ;eAApC,EAAqD,CAAnE,IAAwE,CAAxE;+CACH;;;;;;;;;;;;;;;;;SAtCU",
    "file": "..\\..\\..\\src\\home\\model\\item_group.js",
    "sourcesContent": [
        "import Base from './base.js'\r\nlet ObjectID = require('mongodb-core').BSON.ObjectID;\r\n\r\nexport default class ItemGroup extends Base {\r\n  schema = {\r\n    name: {\r\n      type: String,\r\n      require: true,\r\n      unique: true,\r\n      default: ''\r\n    },\r\n    desc: {\r\n      type: String,\r\n      require: true,\r\n      default: ''\r\n    },\r\n    no: {\r\n      type: Number,\r\n      require: true,\r\n      unique: true,\r\n      default: ()=> {\r\n        return this.max('no') + 1;\r\n      }\r\n\r\n    },\r\n    createAt: {\r\n      type: Date,\r\n      required: true,\r\n      default: ()=>new Date()\r\n    },\r\n    updateAt: {\r\n      type: Date,\r\n      required: true,\r\n      default: ()=>new Date()\r\n    }\r\n  };\r\n\r\n  async beforeAdd(data) {\r\n    data = super.beforeAdd(data);\r\n    let groups = await this.select();\r\n    data.no = groups.reduce((pre, curr)=>pre > +curr.no ? pre : +curr.no || pre, 0) + 1;\r\n    return data;\r\n  }\r\n\r\n}"
    ]
}